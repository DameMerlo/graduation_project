# Topic Requirements

## 数据库

1.用户信息表 【挂号、导诊、体检】his_user

id 身份证号 姓名 年龄 联系方式  性别  家族病史 过敏史

2.科室表  his_dept

 科编号 科名 室编号 室名

3.挂号表  his_reg

挂号单号   挂号时间段（5个 0【空】/1【有空】） 患者id 科室id

4.症状表  his_symp

部位 症状1 症状2 推荐科室

5.体检表 his_exam

体检单号 体检名称 预约时间 医院选择 就诊人id 

6.护士表 his_nurse

工号 姓名 性别 护士信息 护士手机号

7.护理订单表  his_nurse_order

订单号 订单人姓名 护士工号 订单人手机号 订单人地址 订单人报酬

备注 

8.药店表 his_store

药店名称  药店地址 药店信息

9.药品表 his_drug

药品名称 药品价格 药品库存【默认只买一盒药】

10.药品订单表  his_drug_order

药品订单号 药品 药品共计数量 药品价格 联系人 手机号 地址 送达时间 报酬 备注 

11.药品互助表 his_drug_receive

  接单状态 订单号 订单地址 药店地址 接单人

12.管理员表  his_admin

管理员ID 姓名 性别 联系方式 密码

13.医院表 his_hosp

医院id  医院名 医院地址 详细信息





## 表关系图

![Snipaste_2023-04-16_11-10-09](C:\Users\M&A\Desktop\Snipaste_2023-04-16_11-10-09.png)



## 角色

管理员   【全部权限】

医师      

药师

普通用户



## 功能

预约挂号：手机一键预约挂号

买药送药：在线售药，掌握药品动态，利民便民

预约体检：体检日期提醒

智能病历：医护随时查看，调取方便

智能导诊：依据病人病历，推荐挂号科室，进一步可以推荐医生和医院

家庭护理：预约社区服务中心的助老助残部门，上门进行家庭护理



## 科室分配

- 社区医疗中心

  - 内科

    - 全科医学科
    - 神经内科
    - 心血管科
    - 呼吸内科
    - 老年病科
  
- - 外科
    - 口腔科

    - 耳鼻喉科
    - 骨科
    - 眼科

- 中医科
  
  - 康复医学科
    - 推拿科
    - 针灸科
  
- 预防保健中心
  
  

## 菜单分配

【管理员】

- 系统管理
  - 检查费用设置
  - 挂号费用设置
- 收费管理
  - 处方收费
  - 收费查询
  - 处方退费
  - 退费查询
  - 处方发药
- 检查管理
  - 新开检查
  - 检查结果录入
  - 检查结果查询
- 
- 数据统计
  - 收支统计
  - 药品销售统计
  - 检查项目统计
  - 医生当日会诊统计

【药师】

- 药品管理
  - 药品信息
  - 订单管理

【医师】

- 门诊信息
  - 新开就诊 
  - 家庭护理【预防保健中心医师专属】
  - 我的排班
  - 挂号列表
- 患者信息
  - 智能病历

【患者】

- 看病就诊
  - 门诊挂号
  - 我的病历
  - 我的检查





# Unit 1 运行环境

## 运行项目
1.到G:\Redis-x64-3.2.100打开redis-server
2.打开rdm
3.打开Navicat
4.打开IDEA 尝试运行

## 调整本地和云端

G:\RuoYi-Vue-master\RuoYi-Vue-master\ruoyi-admin\src\main\resources\application-druid.yml中修改

```yml
        druid:
            # 主库数据源
            master: # localhost 改为 101.42.170.114 ry-vue改为ruoyi
                url: jdbc:mysql://localhost:3306/ry-vue?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=GMT%2B8
                username: root  #root   ruoyi-vue
                password: root #root   xnhwGcNca7ESZjjD
```

G:\RuoYi-Vue-master\RuoYi-Vue-master\ruoyi-admin\src\main\resources\application.yml中修改

```yaml
  # redis 配置
  redis:
    # 地址 localhost 改为 101.42.170.114
    host: localhost
    # 密码 从无到redis
    password: 
```





## 后端上传到云端的操作
1.IDEA的Maven处先clean后package打包
2.将G:\RuoYi-Vue-master\RuoYi-Vue-master\ruoyi-admin\target下的ruoyi-admin.jar上传到云服务器的/root/xuexue文件夹中 

cd /root/xuexue
ls
nohup java -jar ruoyi-admin.jar &
tail -f nohup.out

出现这个就ok了！！
(♥◠‿◠)ﾉﾞ  若依启动成功   ლ(´ڡ`ლ)ﾞ  
 .-------.       ____     __        
 |  _ _   \      \   \   /  /    
 | ( ' )  |       \  _. /  '       
 |(_ o _) /        _( )_ .'         
 | (_,_).' __  ___(_ o _)'          
 |  |\ \  |  ||   |(_,_)'         
 |  | \ `'   /|   `-'  /           
 |  |  \    /  \      /           
 ''-'   `'-'    `-..-'              

## 前端上传到云端的操作
1.先从package.json里面运行"build:prod": "vue-cli-service build", 这一行，打包，会出现dist文件夹，复制进服务器
2.在宝塔的nginx的版本选择1.22,修改配置为,详细见[若依上云的简略操作 - MerlotAM - 博客园 (cnblogs.com)](https://www.cnblogs.com/MerlotAM/p/17108680.html)





# Unit 2 Swagger2  (springfox)

[(7条消息) SpringFox_采菊东篱yy的博客-CSDN博客_springfox](https://blog.csdn.net/weixin_45408048/article/details/115583116)

[(7条消息) Swagger 学习笔记 | Swagger 简介 | Springfox 简介 | Springfox 2.9.2 常用注解 | Spring Boot 整合 Swagger2 案例_「已注销」的博客-CSDN博客](https://blog.csdn.net/Unirithe/article/details/125593791?ops_request_misc=&request_id=&biz_id=102&utm_term=SpringFox&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-4-125593791.nonecase&spm=1018.2226.3001.4187)

[(7条消息) @PostMapping和@GetMapping用法详解_postmapping和getmapping_蠢蠢欲动的猫的博客-CSDN博客](https://blog.csdn.net/weixin_43987718/article/details/124169283)



Post请求 



Get请求





# Unit 3 如何将ruoyi变成自己的项目

修改前端：登录界面背景图

```vue
<style rel="stylesheet/scss" lang="scss">
.register {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  background-image: url("../assets/images/login-background.jpg");
  background-size: cover;
}
```

[若依RuoYi框架log图标与文字怎么改？ - 小小叶弯 - 博客园 (cnblogs.com)](https://www.cnblogs.com/2021dayang/p/16527164.html)



添加菜单

添加角色

添加用户



# 毕设学习

## java文件结构：

**1.pom文件** 

<parent>有一个父级项目，我们这边可以减少配置

<deprndency>依赖

**2.XXXApplication 项目启动程序**

启动项目主要是启动xxxApplication这个类

**3.contoller 控制器** 

标记 @RestController

@GetMapping 放在方法前，意味着浏览器要发送GET请求

@GetMapping("/hello") 要有明确的链接地址

浏览器访问网站：/hello属于路径部分，默认访问80端口，访问http://localhost:80/hello





## vue-element-admin

文件结构

```bash
├── build                      # 构建相关
├── mock                       # 项目mock 模拟数据
├── plop-templates             # 基本模板
├── public                     # 静态资源
│   │── favicon.ico            # favicon图标
│   └── index.html             # html模板
├── src                        # 源代码
│   ├── api                    # 所有请求
│   ├── assets                 # 主题 字体等静态资源
│   ├── components             # 全局公用组件
│   ├── directive              # 全局指令
│   ├── filters                # 全局 filter
│   ├── icons                  # 项目所有 svg icons
│   ├── lang                   # 国际化 language
│   ├── layout                 # 全局 layout
│   ├── router                 # 路由
│   ├── store                  # 全局 store管理
│   ├── styles                 # 全局样式
│   ├── utils                  # 全局公用方法
│   ├── vendor                 # 公用vendor
│   ├── views                  # views 所有页面
│   ├── App.vue                # 入口页面
│   ├── main.js                # 入口文件 加载组件 初始化等
│   └── permission.js          # 权限管理
├── tests                      # 测试
├── .env.xxx                   # 环境变量配置
├── .eslintrc.js               # eslint 配置项
├── .babelrc                   # babel-loader 配置
├── .travis.yml                # 自动化CI配置
├── vue.config.js              # vue-cli 配置
├── postcss.config.js          # postcss 配置
└── package.json               # package.json
```







